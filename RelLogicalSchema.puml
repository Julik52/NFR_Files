@startuml
title Relational Model of the Monitoring System

hide circle

entity "**User**" as user {
  (PK) user_id : INTEGER
  --
  first_name : VARCHAR(50)
  last_name : VARCHAR(50)
  email_address : VARCHAR(100)
  phone_number : VARCHAR(20)
  last_login : TIMESTAMP
}

entity "**Monitorings**" as monitorings {
  (PK) monitorings_id : INTEGER
  --
  monitoring_name : VARCHAR(100)
  status : VARCHAR(30)
  installation_date : DATE
  data_collection_frequency : INTERVAL
  (FK) user_id : INTEGER
}

entity "**TemperatureMonitoring**" as tempMon {
  (PK) temp_monitoring_id : INTEGER
  --
  lower_limit : NUMERIC(5,2)
  upper_limit : NUMERIC(5,2)
  (FK) monitorings_id : INTEGER
}

entity "**SecurityMonitoring**" as secMon {
  (PK) security_monitoring_id : INTEGER
  --
  risk_priority : VARCHAR(30)
  risk_types : VARCHAR(50)
  (FK) monitorings_id : INTEGER
}

entity "**CurrentTemperature**" as currTemp {
  (PK) curr_temp_id : INTEGER
  --
  value : NUMERIC(5,2)
  last_update : TIMESTAMP
  (FK) temp_monitoring_id : INTEGER
}

entity "**CurrentSecurityStatus**" as currSec {
  (PK) curr_sec_id : INTEGER
  --
  overall_status : VARCHAR(30)
  last_update : TIMESTAMP
  (FK) security_monitoring_id : INTEGER
}

entity "**Notification**" as notif {
  (PK) notification_id : INTEGER
  --
  message : VARCHAR(255)
  date_time : TIMESTAMP
  event_category : VARCHAR(50)
  (FK) monitorings_id : INTEGER
  (FK) user_id : INTEGER
}

entity "**Sensor**" as sensor {
  (PK) sensor_id : INTEGER
  --
  sensor_name : VARCHAR(50)
  sensor_type : VARCHAR(30)
  manufacturer : VARCHAR(50)
  model : VARCHAR(50)
  (FK) locations_id : INTEGER
  (FK) monitorings_id : INTEGER
}

entity "**Locations**" as locations {
  (PK) locations_id : INTEGER
  --
  location_name : VARCHAR(50)
  location_type : VARCHAR(30)
  building : VARCHAR(50)
  floor : INTEGER
  (FK) user_id : INTEGER
}

' --- Relationships ---
user                ||--o{ monitorings          : creates
monitorings          ||--|{ tempMon
monitorings          ||--|{ secMon
tempMon             ||--|| currTemp            : contains
secMon              ||--|| currSec             : contains
monitorings          ||--|{ sensor              : uses
locations            ||--o{ sensor              : contains
monitorings          ||--o{ notif               : generates
user                ||--o{ notif               : receives
user                ||--o{ locations           : owns

@enduml
